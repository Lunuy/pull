!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,u=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t),this.particles=e,this.resistance=n}var e,n,o;return e=t,(n=[{key:"update",value:function(t){var e,n=r(this.particles);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.pressure=0;var i,u=r(this.particles);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(c!==o){var a=c.position[0]-o.position[0],f=c.position[1]-o.position[1],l=Math.sqrt(Math.pow(a,2)+Math.pow(f,2)),p=c.pull(l,o);if(p){var s=p/l,y=a*s,b=f*s,h=y*t,v=b*t;o.motion[0]+=h,o.motion[1]+=v,c.motion[0]-=h,c.motion[1]-=v,o.pressure+=Math.sqrt(Math.pow(y,2)+Math.pow(b,2))}}}}catch(t){u.e(t)}finally{u.f()}}}catch(t){n.e(t)}finally{n.f()}var m,d=Math.pow(1-this.resistance,t),w=r(this.particles);try{for(w.s();!(m=w.n()).done;){var g=m.value;g.motion[0]*=d,g.motion[1]*=d,g.position[0]+=g.motion[0]*t,g.position[1]+=g.motion[1]*t}}catch(t){w.e(t)}finally{w.f()}}}])&&u(e.prototype,n),o&&u(e,o),t}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];a(this,t),this.position=e,this.motion=n};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?S(t):e}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?k(t):e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?Z(t):e}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z=!0,N={Plus:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(u,t);var e,n,r,o,i=(e=u,function(){var t,n=v(e);if(h()){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return y(this,t)});function u(){var t;p(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(b(t=i.call.apply(i,[this].concat(n))),"type","Plus"),t}return n=u,(r=[{key:"pull",value:function(t,e){if(t<=10)return Math.pow(t-10,3);if("Plus"===e.type&&t<=300)return-Math.pow(40/t+1,5);if("Minus"===e.type){if(t<=100)return Math.pow(t-100,3);if(t<=200)return Math.pow(10/Math.log(t),3)}return 1/Math.log(t)}}])&&s(n.prototype,r),o&&s(n,o),u}(f),Zero:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(u,t);var e,n,r,o,i=(e=u,function(){var t,n=M(e);if(P()){var r=M(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return j(this,t)});function u(){var t;g(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return E(S(t=i.call.apply(i,[this].concat(n))),"type","Zero"),t}return n=u,(r=[{key:"pull",value:function(t,e){return t<=10?Math.pow(t-10,3):1/Math.log(t)}}])&&O(n.prototype,r),o&&O(n,o),u}(f),Minus:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(u,t);var e,n,r,o,i=(e=u,function(){var t,n=I(e);if(C()){var r=I(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return T(this,t)});function u(){var t;A(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return L(k(t=i.call.apply(i,[this].concat(n))),"type","Minus"),t}return n=u,(r=[{key:"pull",value:function(t,e){return t<=30?Math.pow(t-30,3):"Minus"===e.type&&t<=300?-Math.pow(300/(t+10)+1,3):"Plus"===e.type&&t<=200?Math.pow(60/Math.log(t),3):1/Math.log(t)}}])&&x(n.prototype,r),o&&x(n,o),u}(f),Glue:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(u,t);var e,n,r,o,i=(e=u,function(){var t,n=H(e);if(F()){var r=H(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return W(this,t)});function u(){var t;B(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return X(Z(t=i.call.apply(i,[this].concat(n))),"type","Glue"),t}return n=u,(r=[{key:"pull",value:function(t,e){if("Glue"===e.type)return t<=20?Math.pow(t-20,5):Math.pow(8/Math.log(t),3);if("Plus"===e.type||"Zero"===e.type){if(t<=15)return Math.pow(t-15,5);if(t<=200)return Math.pow(10/Math.log(t),5)}return 1/Math.log(t)}}])&&G(n.prototype,r),o&&G(n,o),u}(f)},J=[],K=new c(J,.9),Q=0,V=(performance.now(),document.getElementById("canvas")),tt=V.getContext("2d");V.width=innerWidth,V.height=innerHeight,tt.fillStyle="black",window.addEventListener("resize",(function(t){V.width=innerWidth,V.height=innerHeight})),requestAnimationFrame((function t(){Q++,z&&K.update(.02);var e=J.reduce((function(t,e){var n=e.pressure;return n>t?n:t}),0);tt.clearRect(0,0,V.clientWidth,V.height);var n,r=Y(J);try{for(r.s();!(n=r.n()).done;){var o=n.value;tt.beginPath(),tt.fillStyle="hsl(".concat(o.pressure/e*360,",100%,50%)"),tt.arc(o.position[0],o.position[1],3,0,2*Math.PI),tt.fill()}}catch(t){r.e(t)}finally{r.f()}requestAnimationFrame(t)})),setInterval((function(){console.log(Q),Q=0}),1e3);var et=!1;V.addEventListener("mousedown",(function(t){et=!0,J.push(new N[nt.value]([t.clientX,t.clientY]))})),V.addEventListener("mousemove",(function(t){et&&J.push(new N[nt.value]([t.clientX,t.clientY]))})),V.addEventListener("mouseup",(function(t){et=!1}));var nt=document.getElementById("typeParticle");Object.keys(N).forEach((function(t){var e=document.createElement("option");e.value=t,e.appendChild(document.createTextNode(t)),nt.appendChild(e)}));var rt=document.getElementById("pause");rt.addEventListener("click",(function(){z=!z,console.log(z),rt.value=z?"Pause":"Resume"}))}]);